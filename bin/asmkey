#! /bin/bash

# determine the base directory of the KeY system
base=$( cd $( dirname $( type -p "$0" ) ) ; cd .. ; pwd )

CLASSPATH="${base}/system/binary:${base}/system/resources-asmkey:${base}/system/resources"

if [ -z "$KEY_LIB" ] ; then
   KEY_LIB="$base/key-ext-jars/"
else
echo "Using libraries from:             $KEY_LIB"
fi


libs="antlr.jar recoder.jar jargs.jar log4j.jar"
for lib in $libs; do
    CLASSPATH="${CLASSPATH}:${KEY_LIB}$lib"
done

export CLASSPATH
echo $CLASSPATH
#
# This part sets an environent variable containing the path to the axiom directory for Simplify
#
#AXIOMDIR=${base}/system/binary/de/uka/ilkd/key/proof/decproc
    #-Xdock:name="AsmKey" \


java -Dasmkey.home.path="$base" \
    -Dasmkey.base.path="$base/system/resources-asmkey/base/" \
    -Dasmkey.rules.path="$base/system/resources-asmkey/rules/" \
    -Dasmkey.rules.files="decls.rules:int.rules:prop.rules:generic.rules:modal.rules:def.rules:upd.rules:acc.rules:Con.rules:inv.rules:equi.rules:sequences.rules:sets.rules:varia.rules" \
    -Dasmkey.rules.int="int.rules" \
    -Dasmkey.rules.boolean="boolean.rules" \
    -Dapple.laf.useScreenMenuBar="true" \
    -Dkey.home="$base" \
    -Dde.uka.ilkd.key.pp.NotationInfo="de.uka.ilkd.asmkey.pp.AsmNotationInfo" \
de.uka.ilkd.asmkey.gui.Main "$@"
