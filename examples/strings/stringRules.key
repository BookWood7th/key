\functions {
	   \nonRigid[Location] CharList content(java.lang.String);
}

\schemaVariables {
	\modalOperator { diamond, box, diamond_trc, box_trc, throughout_trc } #normalassign;
        \program Variable #v;
	\program StringLiteral #slit;
	\formula post;
}

\rules {
       //
       // Assignment of a Literal
       //
       stringAssignment  { \find (\modality{#normalassign}{.. #v = #slit; ...}\endmodality(post)) 
                \replacewith ({ #v := java.lang.String::<get>(#v.<nextToCreate>@(java.lang.String)) }{
			     	#v.<nextToCreate>@(java.lang.String) := #v.<nextToCreate>@(java.lang.String)+1 ||
			     	#v.<created>@(java.lang.Object):=TRUE ||
				#v.<initialized>@(java.lang.Object):=TRUE ||
				#v.<transient>@(java.lang.Object):=0 ||
				content(#v):= #slit}
				\modality{#normalassign}{.. ...}\endmodality(post)) 
                \displayname "assignment"
		\heuristics (userTaclets3)
	};
}
